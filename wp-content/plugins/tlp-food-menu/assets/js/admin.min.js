!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,a,o){return(a=function(t){var a=function(t){if("object"!=e(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var o=a.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}!function(e,a){if(e(document).ready((function(){var t;e("#settings-tabs .rt-tab-nav li:first-child a").trigger("click"),"online_ordering"===(null!==(t=e('#fm_food_menu_type  input[name="fm_food_menu_type"]:checked').val())&&void 0!==t?t:fm_var.foodMenuType)?e('#fm_food_menu_type label:nth-child(2) input[name="fm_food_menu_type"]').trigger("change"):e('#fm_food_menu_type label:nth-child(1) input[name="fm_food_menu_type"]').trigger("change")})),null!==(a=fm_var)&&void 0!==a&&a.hasPro){var o=e("#fm_food_menu_type");o.on("click",'input[name="fm_food_menu_type"]',(function(){e("#fmp-settings-form").trigger("submit","fm_type")})),o.on("change",'input[name="fm_food_menu_type"]',(function(){var t=e("#settings-tabs ul.tab-nav.rt-tab-nav li").slice(3,8),a=e("#menu-posts-food-menu ul.wp-submenu-wrap li:nth-child(10)");"online_ordering"===e(this).val()?(t.show(),a.show()):(t.hide(),a.hide())}))}e("select.fmp-select2").length&&e("select.fmp-select2").select2({minimumResultsForSearch:1/0});var r,n,i,l,f=e("select.fmp-ajax-select2");function p(){var t=e("#rtfm-fmp_layout input[name=fmp_layout]:checked").val(),a=e("#fmp_category_title_type").val();t&&(t.match(/^carousel/i),t.match(/^isotope/i),t.match(/^grid-by-cat/i)?(e("#rtfm_pagination").fadeOut(200),e("#rtfm_category_title").fadeIn(200),e("#fmp_category_style_holder").fadeIn(200),e("#fmp_border_color_holder").fadeIn(200),"default"===a?"grid-by-cat-free-2"===t?(e("#category_title_color > div").fadeIn(200),e("#fmp_category_style_holder p.description").fadeIn(200)):(e("#category_title_color > div").fadeOut(200),e("#fmp_category_style_holder p.description").fadeOut(200)):"type-3"===a?(e("#category_title_color > div").fadeIn(200),e("#fmp_category_style_holder p.description").fadeIn(200)):(e("#category_title_color > div").fadeOut(200),e("#fmp_category_style_holder p.description").fadeOut(200)),"grid-by-cat1"!==t&&"grid-by-cat2"!==t||e("#rtfm_category_title").fadeOut(200)):(e("#rtfm_pagination").fadeIn(200),e("#rtfm_category_title").fadeOut(200),e("#fmp_category_style_holder").fadeOut(200)),"grid-by-cat-free"===t||"grid-by-cat-free-2"===t?e("#fmp_border_color_holder").fadeIn(200):e("#fmp_border_color_holder").fadeOut(200))}function d(){e("#fmp_detail_page_link_holder input[name='fmp_detail_page_link']:checked").val()?(e("#fmp_detail_page_link_type_holder,#fmp_detail_page_target_holder").fadeIn(200),e("#fmp_detail_page_link_holder").find(".rt-field").removeClass("no-bottom-border")):(e("#fmp_detail_page_link_type_holder,#fmp_detail_page_target_holder").fadeOut(200),e("#fmp_detail_page_link_holder").find(".rt-field").addClass("no-bottom-border"))}function _(){e("#fmp_pagination_holder input[name='fmp_pagination']:checked").val()?(e("#fmp_pagination_type_holder,#fmp_posts_per_page_holder").fadeIn(200),e("#fmp_pagination_holder").find(".rt-field").removeClass("no-bottom-border"),"load_more"===e("#fmp_pagination_type").val()?e("#fmp_load_more_button_text_holder").fadeIn(200):e("#fmp_load_more_button_text_holder").fadeOut(200)):(e("#fmp_pagination_type_holder,#fmp_posts_per_page_holder,#fmp_load_more_button_text_holder").fadeOut(200),e("#fmp_pagination_holder").find(".rt-field").addClass("no-bottom-border"))}function m(){var t=e("#rtfm-fmp_layout_type input[name=fmp_layout_type]:checked").val(),a=".rtfm-radio-layout."+t;if(e("#rtfm-fmp_layout .rtfm-radio-layout").hide(),!t){var o=e("#rtfm-fmp_layout input[name=fmp_layout]:checked"),r=o.parent(".radio-image").attr("data-type");e("#rtfm-fmp_layout_type input[id="+r+"]").prop("checked",!0),a=".rtfm-radio-layout."+r,o.val()?e("#fmp_layout_holder").show():e("#fmp_layout_holder").hide()}e(a).fadeIn(200)}f.length&&(f.on("select2:open",(function(t){r=e(this).attr("data-post-type"),n=e(this).attr("data-source-name")})),f.select2({minimumResultsForSearch:1/0,ajax:{url:ajaxurl,dataType:"json",data:function(e){return t({search:e.term,action:"rt_select2_object_search",post_type:r,source_name:n},fm_var.nonceID,fm_var.nonce)},processResults:function(e,t){return{results:e.results}}}})),e(".fmp-color").length&&e(".fmp-color").wpColorPicker(),e(".rt-field-wrapper.rt-pro-field").on("click",".rt-field",(function(t){t.preventDefault(),e(".rtfm-pro-alert").fadeIn(200)})),e(".rtfm-pro-alert-close").on("click",(function(t){t.preventDefault(),e(".rtfm-pro-alert").fadeOut(200)})),e("#fmp_detail_page_link_holder").on("change","input[type='checkbox']",(function(){d()})),e("#fmp_pagination_holder").on("change","input[type='checkbox']",(function(){_()})),e("#rtfm-fmp_layout_type input[name=fmp_layout_type]").on("change",(function(){e("#fmp_layout_holder").show(),m(),d(),_(),p()})),e("#rtfm-fmp_layout_type input[name=fmp_layout_type], #rtfm-fmp_layout input[name=fmp_layout], #fmp_category_title_type").on("change",(function(){p()})),p(),d(),_(),l=".rtfm-radio-layout."+(i=e("#rtfm-fmp_layout input[name=fmp_layout]:checked").parent(".radio-image").attr("data-type")),e("#rtfm-fmp_layout .rtfm-radio-layout").hide(),e("#fmp_layout_holder").hide(),i&&(e("#rtfm-fmp_layout_type input[id="+i+"]").prop("checked",!0),e("#fmp_layout_holder").show(),e(l).show()),m(),e("#settings-tabs .rt-tab-nav li").on("click","a",(function(t){t.preventDefault();var a,o,r=e(this).parents(".rt-tab-container"),n=r.children(".rt-tab-nav-area"),i=r.children(".rt-tab-content-area"),l=(o=(a=e(this)).attr("href")).replace("#","");i.find(".rt-tab-content").hide(),n.find("li").removeClass("active"),a.parent().addClass("active"),r.find(o).show(),e("#_rtfm_last_active_tab").val(l)})),e(".rt-shortcode-settings .rt-tab-nav li").on("click","a",(function(t){t.preventDefault();var a,o,r=e(this).parents(".rt-tab-container"),n=r.children(".rt-tab-nav"),i=r.children(".rt-tab-content"),l=(o=(a=e(this)).attr("href")).replace("#","");i.hide(),n.find("li").removeClass("active"),a.parent().addClass("active"),r.find(o).show(),e("#_rtfm_last_active_tab").val(l)})),e("#fmp-settings-form").on("submit",(function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.preventDefault();var o=e(this),r=o.serialize(),n=e("#fmp-saveButton"),i=o.next(".rt-response");i.hide(),RtFmAjaxCall(n,"fmpSettingsUpdate",r,(function(t){e("#fmp-settings-form").trigger("fmp_update_settings_form",t),t.error?(i.addClass("error").removeClass("success"),i.show("slow").text(t.msg)):(i.removeClass("error").addClass("success"),i.show("slow").text(t.msg),"fm_type"===a&&window.location.reload())}))})),e("#fmp_source").on("click","input[type='radio']",(function(){var a=e(this),o=a.val();if(o){var r=e("#fmp_categories_holder select"),n=a.parents(".field");e.ajax({type:"POST",url:ajaxurl,data:t({action:"fmp_sc_source_change",source:o},fm_var.nonceID,fm_var.nonce),beforeSend:function(){n.append('<span class="fmp-loading fmp-animate-spin dashicons dashicons-update"></span>')},success:function(e){r.html(e.cat_list).val("").trigger("change"),n.find(".fmp-loading").remove()},error:function(e,t){n.find(".fmp-loading").remove(),0===e.status?alert("Not connect.\n Verify Network."):404==e.status?alert("Requested page not found. [404]"):500==e.status?alert("Internal Server Error [500]."):"parsererror"===t?alert("Requested JSON parse failed."):"timeout"===t?alert("Time out error."):"abort"===t?alert("Ajax request aborted."):alert("Uncaught Error.\n"+e.responseText)}})}})),e("#fmp-global-addon-settings").on("submit",(function(t){t.preventDefault();var a=e(this),o=a.serialize(),r=e(".fmp-global-addons-save"),n=a.next(".rt-response");n.hide(),RtFmAjaxCall(r,"fmpGlobalAddonUpdate",o,(function(t){e("#fmp-settings-form").trigger("fmp_update_settings_form",t),t.error?(n.addClass("error").removeClass("success"),n.show("slow").text(t.msg)):(n.removeClass("error").addClass("success"),n.show("slow").text(t.msg))}))})),window.RtFmAjaxCall=function(t,a,o,r){var n;a&&(n="action="+a),o&&(n=o+"&action="+a),o&&!a&&(n=o),n.search(fm_var.nonceID)<0&&(n=n+"&"+fm_var.nonceID+"="+fm_var.nonce),e.ajax({type:"post",url:ajaxurl,data:n,beforeSend:function(){e("body").append(e("<div id='fmp-loading'><span class='fmp-loading'>Updating ...</span></div>"))},success:function(e){jQuery("#fmp-loading").remove(),r(e)}})}}(jQuery)}();